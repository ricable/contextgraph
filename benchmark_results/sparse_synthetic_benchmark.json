{
  "metrics": {
    "keyword_precision": {
      "exact_match_accuracy": 0.38,
      "anti_match_avoidance": 0.96,
      "mrr_at_k": {
        "1": 0.95,
        "10": 0.9733333333333333,
        "5": 0.9733333333333333,
        "20": 0.9733333333333333
      },
      "keyword_hit_rate_at_k": {
        "5": 1.0,
        "1": 0.95,
        "20": 1.0,
        "10": 1.0
      },
      "accuracy_by_domain": {
        "VersionSpecific": 0.52,
        "ApiPaths": 0.32,
        "ProductNames": 0.36,
        "TechnicalAcronyms": 0.32
      },
      "accuracy_by_keyword": {
        "std::fs::read": 0.0,
        "tokio::spawn": 0.42857142857142855,
        "HashMap::get": 0.75,
        "UUID v7": 0.4,
        "UUID v4": 0.0,
        "serde_json::from_str": 0.0,
        "SSTable": 0.0,
        "Python 3.10": 0.5,
        "FAISS": 0.6666666666666666,
        "B-tree": 0.5,
        "Kubernetes": 0.0,
        "ECMAScript 2022": 0.4,
        "Vec::with_capacity": 0.0,
        "Redis": 1.0,
        "TLS 1.3": 0.25,
        "LSM-tree": 0.0,
        "HNSW": 0.3333333333333333,
        "RocksDB": 0.2,
        "TensorFlow": 0.3333333333333333,
        "Elasticsearch": 0.0,
        "MVCC": 0.25,
        "Arc::new": 0.6666666666666666,
        "PostgreSQL": 0.25,
        "HTTP/2": 1.0
      }
    },
    "retrieval_quality": {
      "precision_at_k": {
        "1": 0.95,
        "20": 0.17400000000000004,
        "5": 0.6240000000000002,
        "10": 0.3480000000000001
      },
      "recall_at_k": {
        "5": 0.9377976190476189,
        "1": 0.3785595238095237,
        "20": 1.0,
        "10": 1.0
      },
      "mrr": 0.9733333333333333,
      "ndcg_at_10": 0.9825385248286294,
      "map": 0.9731815476190476
    },
    "sparsity_analysis": {
      "avg_active_terms": 1507.0,
      "min_active_terms": 1203,
      "max_active_terms": 1794,
      "sparsity_ratio": 0.9506257781272525,
      "vocabulary_size": 30522,
      "avg_term_weight": 0.5008730175191883,
      "max_term_weight": 0.9,
      "weight_distribution": [
        0,
        12472,
        20931,
        20846,
        20713,
        21216,
        20764,
        20951,
        12807,
        0
      ],
      "weight_percentages": [
        0.0,
        8.276045122760452,
        13.88918380889184,
        13.832780358327804,
        13.744525547445255,
        14.078301260783013,
        13.778367617783676,
        13.902455209024552,
        8.498341074983411,
        0.0
      ]
    },
    "ablation": {
      "score_with_e6": 0.9733333333333333,
      "score_without_e6": 0.8539786887481791,
      "delta": 0.11935464458515421,
      "impact_percent": 13.976302471916775,
      "is_essential": true,
      "per_query_deltas": [
        0.17035570189505467,
        0.0481496352598183,
        0.023375391029976766,
        0.14731577680354657,
        0.0,
        0.0,
        0.023027953915155663,
        -0.35492982366203985,
        0.0,
        0.5,
        0.10199187067815385,
        0.5,
        0.0,
        0.01602742869624285,
        0.020208708240259443,
        0.06939884833906385,
        0.03305213379735905,
        0.003796473737818773,
        0.06385526239540218,
        0.5,
        0.0,
        0.5,
        0.14458310046406042,
        0.11749699405258585,
        0.5,
        0.0,
        0.03137154786387053,
        0.08867661763398083,
        0.0,
        0.07830910470320096,
        0.0,
        0.018591264010219488,
        0.012837498530807734,
        0.02886919730974724,
        0.07588981348292889,
        0.5,
        0.5,
        0.14234392940358054,
        0.0,
        0.0,
        0.02945460644739517,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.04825602496770742,
        0.11566052974658592,
        0.5,
        0.03638272369636608,
        0.5,
        0.5,
        0.16588149240419925,
        0.03962980218748369,
        0.03392378413078201,
        0.0,
        0.5,
        0.08886025957895827,
        0.0,
        0.0,
        0.0,
        0.12412272045011408,
        0.0,
        -0.37164890057448163,
        0.03441300905728495,
        0.15281551216106215,
        0.026967226327060834,
        0.5,
        0.1751095213001892,
        0.0,
        0.0,
        0.12062144855137413,
        0.5,
        -0.38171096332289123,
        0.0,
        0.1949683989518095,
        0.035643351821532554,
        0.11639925072258994,
        0.0,
        0.14932344931203578,
        0.0,
        0.5,
        0.09290309716807021,
        -0.548807544632435,
        0.0,
        0.1373257617591177,
        0.5,
        0.5,
        0.5,
        0.0,
        0.05704407719367488,
        0.0,
        0.5,
        0.12278897854264026,
        0.5,
        0.5,
        -0.4654575880136027,
        0.5
      ],
      "top_improvement_queries": [
        "Redis: using Redis",
        "Redis: Redis architecture",
        "Elasticsearch: using Elasticsearch",
        "UUID v4: UUID v4 specification",
        "MVCC: how does MVCC work"
      ],
      "hurt_queries": [
        "SSTable: SSTable implementation details",
        "SSTable: SSTable implementation details",
        "SSTable: how does SSTable work",
        "SSTable: SSTable algorithm explained",
        "SSTable: SSTable implementation details"
      ]
    },
    "query_count": 100
  },
  "threshold_sweep": null,
  "timings": {
    "total_ms": 47,
    "dataset_generation_ms": 0,
    "keyword_precision_ms": 12,
    "retrieval_quality_ms": 2,
    "sparsity_analysis_ms": 31,
    "ablation_ms": 0,
    "threshold_sweep_ms": null
  },
  "config": {
    "dataset": {
      "num_documents": 100,
      "num_queries": 100,
      "keyword_domains": [
        "TechnicalAcronyms",
        "ApiPaths",
        "VersionSpecific",
        "ProductNames"
      ],
      "seed": 42,
      "anti_example_ratio": 0.3
    },
    "k_values": [
      1,
      5,
      10,
      20
    ],
    "run_ablation": true,
    "run_threshold_sweep": false,
    "threshold_values": [
      0.005,
      0.01,
      0.02,
      0.05,
      0.1
    ],
    "simulate_embeddings": true
  },
  "dataset_stats": {
    "total_documents": 100,
    "total_queries": 100,
    "anti_example_count": 11,
    "unique_keywords": 24,
    "domains_used": [
      "ProductNames",
      "ApiPaths",
      "VersionSpecific",
      "TechnicalAcronyms"
    ]
  }
}